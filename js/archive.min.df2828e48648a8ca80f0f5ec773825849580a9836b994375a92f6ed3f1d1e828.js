(function(){function t(){var e,n=0,t={},o=window.location.search.substring(1),s=o.split("&");for(n=0;n<s.length;n++)e=s[n].split("="),typeof t[e[0]]=="undefined"?t[e[0]]=e[1]:typeof t[e[0]]=="string"?t[e[0]]=[t[e[0]],e[1]]:t[e[0]].push(e[1]);return t}var e=function(){var e=window.location.href.split("?")[0];return function(t){typeof t=="string"?window.history.replaceState(null,"",e+t):window.history.replaceState(null,"",e)}}();$(document).ready(function(){i=$(".js-tags"),d=i.find(".tag-button"),r=i.find(".tag-button--all"),a=$(".js-result"),s=a.find("section"),n=[],o=null,c=[],l=!1,s.each(function(){n.push($(this).find(".item"))});function m(){var e,t=0;for(e=0;e<s.length;e++)c.push(t),t+=s.eq(e).find(".item").length;c.push(t)}function f(e){if(!e)return r;var t=d.filter('[data-encode="'+e+'"]');return t.length===0?r:t}function u(e){e&&(e.addClass("focus"),o&&!o.is(e)&&o.removeClass("focus"),o=e)}function h(t,o){var i,r,d,h,m,p,c={};for(i=0;i<n.length;i++){m=n[i];for(r=0;r<m.length;r++)if(t===""||t===void 0)c[i]||(c[i]={}),c[i][r]=!0;else{p=m.eq(r).data("tags").split(",");for(d=0;d<p.length;d++)if(p[d]===t){c[i]||(c[i]={}),c[i][r]=!0;break}}}for(i=0;i<n.length;i++){c[i]&&s.eq(i).removeClass("d-none"),c[i]||s.eq(i).addClass("d-none");for(r=0;r<n[i].length;r++)c[i]&&c[i][r]?n[i].eq(r).removeClass("d-none"):n[i].eq(r).addClass("d-none")}l||(a.removeClass("d-none"),l=!0),o?(u(o),h=o.attr("data-encode"),h===""||typeof h!="string"?e():e("?tag="+h)):u(f(t))}var n,s,o,i,a,r,c,l,d,p=t(),g=p.tag;m(),h(g),i.on("click","a",function(){h($(this).data("encode"),$(this))})})})()